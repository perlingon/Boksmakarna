jQuery(document).ready(function(e){function t(){e(".acf_postbox tr.row").each(function(){function o(){n.hide();i.hide();r.hide();var e=t.find(".acf-radio-list input:checked").val();if(e==="Veckans Bok"){n.fadeOut();r.fadeOut();i.fadeIn()}if(e==="Featured Content"){n.fadeIn();r.fadeIn();i.fadeIn()}if(e==="Image Only"){n.fadeOut();r.fadeOut();i.fadeIn()}}var t=e(this),n=t.find("td").filter("[data-field_name='content']").parent(),r=t.find("td").filter("[data-field_name='content_position']").parent(),i=t.find("td").filter("[data-field_name='images']").parent(),s=t.find("td").filter("[data-field_name='images']").find("img").eq(0).attr("src");t.find(".order").next().prepend("<h3>Slide</h3>");o();t.find(".acf-radio-list").change(function(){o()});var u='<div class="position_preview slide-box"><div class="preview-img"></div><div class="content-box"></div></div><a class="refresh">Reload Image</a>';t.find(".position_preview").length==0&&r.find("td").eq(1).prepend(u);var a=r.find("input").eq(0),f=r.find("input").eq(1),l=e(".slide-box").width(),c=e(".slide-box").height(),h=t.find(".content-box");h.css("left",a.val()+"%");h.css("top",f.val()+"%");h.parent().find(".preview-img").css("background-image","url("+s+")");t.find(".refresh").on("click",function(){var e=t.find(".content-box"),n=t.find("td").filter("[data-field_name='images']").find("img").eq(0).attr("src");e.parent().find(".preview-img").css("background-image","url("+n+")")});e(".has-image").bind("DOMNodeInserted",function(e){alert("inserted "+e.target.nodeName+" in "+e.relatedNode.nodeName)});a.on("input",null,null,function(){var t=e(this).val()+"%";h.css("left",t)});f.on("input",null,null,function(){var t=e(this).val()+"%";h.css("top",t)});h.draggable({containment:"parent",cursor:"crosshair",opacity:.7,drag:function(){var t=e(this).position(),n=t.left,r=t.top,i=n/l*100,s=r/c*100;e(a).val(i.toFixed(1));e(f).val(s.toFixed(1))}})})}e(".wp-list-table th.column-thumbnail").each(function(){e(this).html("")});t();e(".add-row-end").live("click",function(){t();return!1});e(".field-repeater-toggle").live("click",function(){e(".acf_postbox tr.row").find("tr").removeAttr("style")})});