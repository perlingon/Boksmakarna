/*
Bones Scripts File
Author: Eddie Machado

This file should contain any js scripts you want to add to the site.
Instead of calling it in the header or throwing it inside wp_head()
this file will be called automatically in the footer so as not to
slow the page load.

*/// IE8 ployfill for GetComputed Style (for Responsive Script below)
window.getComputedStyle||(window.getComputedStyle=function(e,t){this.el=e;this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;t=="float"&&(t="styleFloat");n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()}));return e.currentStyle[t]?e.currentStyle[t]:null};return this});jQuery(document).ready(function(e){e("img.lazyload").lazyload({effect:"fadeIn"});var t=responsiveNav("#menu-main",{animate:!0,transition:400,label:"Meny",insert:"after",customToggle:"",openPos:"relative",jsClass:"js",init:function(){},open:function(){},close:function(){}});e(".chosen-select").chosen().change(function(){var t="",r=e("#titles").val(),i=e("#writers").val(),s=e("#genres").val();r===null&&(r="");i===null&&(i="");s===null&&(s="");var o=t.concat(r,i,s),u=e.param({filter:o});e.bbq.pushState(u);o===""?n.isotope({filter:"*"}):n.isotope({filter:o})});var n=e(".grid-container");n.isotope({itemSelector:".grid-item",layoutMode:"fitRows",getSortData:{title:function(e){return e.find("h3").text()},writer:function(e){return e.find(".writer-tag").text()},genre:function(e){return e.find(".genre-tag").text()},date:function(e){return parseInt(e.find(".date").text(),10)}}});e(".sort-by a").not("#sort-book").click(function(){if(e(".sort-order a").first().hasClass("asc"))var t=!0;else var t=!1;var r=e(this).attr("href").slice(1);e(".sort-by li").removeClass("active");e(this).parent().addClass("active");n.isotope({sortBy:r,sortAscending:t});var i=e.param({sortBy:r});e.bbq.pushState(i);return!1});e(".title,.writer,.genre").click(function(){this.className={genre:"title",title:"writer",writer:"genre"}[this.className];if(e(".sort-order a").first().hasClass("asc"))var t=!0;else var t=!1;e(".sort-by li").removeClass("active");e(this).parent().addClass("active");if(e(this).hasClass("title")){sortName="title";n.isotope({sortBy:sortName,sortAscending:t});e(this).html("Titel");e(this).attr("href","#"+sortName);var r=e.param({sortBy:sortName});e.bbq.pushState(r)}if(e(this).hasClass("writer")){sortName="writer";n.isotope({sortBy:sortName,sortAscending:t});e(this).html("FÃ¶rfattare");e(this).attr("href","#"+sortName);var r=e.param({sortBy:sortName});e.bbq.pushState(r)}if(e(this).hasClass("genre")){sortName="genre";n.isotope({sortBy:sortName,sortAscending:t});e(this).html("Genre");e(this).attr("href","#"+sortName);var r=e.param({sortBy:sortName});e.bbq.pushState(r)}return!1});e(".sort-order a").toggle(function(){var t=e(".sort-by li.active a").first().attr("href").slice(1);e(this).removeClass("desc");e(this).addClass("asc");n.isotope({sortBy:t,sortAscending:!0});e(this).html("Fallande")},function(){var t=e(".sort-by li.active a").first().attr("href").slice(1);e(this).removeClass("asc");e(this).addClass("desc");n.isotope({sortBy:t,sortAscending:!1});e(this).html("Stigande")});e(".grid-item .tags a, .filter").click(function(){var t=e(this).attr("data-filter"),r=e(".sort-by li.active a").first().attr("href").slice(1);if(e(".sort-order a").first().hasClass("asc"))var i=!0;else var i=!1;n.isotope({filter:t,sortBy:r,sortAscending:i});var s=e.param({filter:t});e.bbq.pushState(s);return!1});var r=e(window).width();r<481;r>481;r>=768&&e(".comment img[data-gravatar]").each(function(){e(this).attr("src",e(this).attr("data-gravatar"))});r>1030});(function(e){function c(){n.setAttribute("content",s);o=!0}function h(){n.setAttribute("content",i);o=!1}function p(t){l=t.accelerationIncludingGravity;u=Math.abs(l.x);a=Math.abs(l.y);f=Math.abs(l.z);!e.orientation&&(u>7||(f>6&&a<8||f<8&&a>6)&&u>5)?o&&h():o||c()}if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1))return;var t=e.document;if(!t.querySelector)return;var n=t.querySelector("meta[name=viewport]"),r=n&&n.getAttribute("content"),i=r+",maximum-scale=1",s=r+",maximum-scale=10",o=!0,u,a,f,l;if(!n)return;e.addEventListener("orientationchange",c,!1);e.addEventListener("devicemotion",p,!1)})(this);